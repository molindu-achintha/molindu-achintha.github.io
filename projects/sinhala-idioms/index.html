<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Sinhala Idioms Extraction and Translation - End-to-end NLP system for detecting English idioms, classifying usage, and mapping to Sinhala equivalents">
    <title>Sinhala Idioms Extraction & Translation | Molindu Achintha</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css">
    <style>
        .project-wrapper {
            display: grid;
            grid-template-columns: 240px 1fr;
            gap: 0;
            min-height: calc(100vh - var(--nav-height));
            padding-top: var(--nav-height);
        }

        .project-sidebar {
            background-color: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            position: sticky;
            top: var(--nav-height);
            height: calc(100vh - var(--nav-height));
            overflow-y: auto;
            padding: 1.5rem;
        }

        .project-sidebar-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--accent-primary);
            margin-bottom: 0.5rem;
        }

        .project-sidebar-subtitle {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .project-nav {
            list-style: none;
        }

        .project-nav li {
            margin-bottom: 0.25rem;
        }

        .project-nav a {
            display: block;
            padding: 0.5rem 0.75rem;
            font-size: 0.8rem;
            color: var(--text-secondary);
            border-radius: var(--radius-sm);
            transition: all var(--transition-fast);
        }

        .project-nav a:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .nav-section-label {
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            padding-left: 0.75rem;
        }

        .project-main {
            padding: 3rem 4rem;
            max-width: 900px;
        }

        .project-hero {
            margin-bottom: 3rem;
        }

        .project-hero h1 {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.75rem;
        }

        .project-hero .subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .callout {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(239, 68, 68, 0.1) 100%);
            border: 1px solid #f59e0b;
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .callout h4 {
            font-size: 0.875rem;
            font-weight: 600;
            color: #f59e0b;
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .callout p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.7;
        }

        .callout.blue {
            background: linear-gradient(135deg, rgba(56, 189, 248, 0.1) 0%, rgba(129, 140, 248, 0.1) 100%);
            border-color: var(--accent-primary);
        }

        .callout.blue h4 {
            color: var(--accent-primary);
        }

        .callout.green {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(132, 204, 22, 0.1) 100%);
            border-color: #22c55e;
        }

        .callout.green h4 {
            color: #22c55e;
        }

        .callout.purple {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.1) 0%, rgba(236, 72, 153, 0.1) 100%);
            border-color: #a855f7;
        }

        .callout.purple h4 {
            color: #a855f7;
        }

        .project-section {
            margin-bottom: 3rem;
        }

        .project-section h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f59e0b;
            display: inline-block;
        }

        .project-section h3 {
            font-size: 1.1rem;
            font-weight: 600;
            color: #ef4444;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }

        .project-section h4 {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }

        .project-section p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.7;
            margin-bottom: 1rem;
        }

        .project-section ul {
            list-style: none;
            margin-bottom: 1rem;
        }

        .project-section ul li {
            color: var(--text-secondary);
            font-size: 0.9rem;
            padding-left: 1.25rem;
            position: relative;
            margin-bottom: 0.5rem;
        }

        .project-section ul li::before {
            content: 'üìù';
            position: absolute;
            left: 0;
            font-size: 0.75rem;
        }

        .project-section ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
        }

        .project-section ol li {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .component-card {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 1.25rem;
        }

        .component-card.orange {
            border-left: 3px solid #f59e0b;
        }

        .component-card.blue {
            border-left: 3px solid #38bdf8;
        }

        .component-card.purple {
            border-left: 3px solid #a855f7;
        }

        .component-card.green {
            border-left: 3px solid #22c55e;
        }

        .component-card.red {
            border-left: 3px solid #ef4444;
        }

        .component-card h4 {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            margin-top: 0;
        }

        .component-card p {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 0;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .info-card {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 1.25rem;
        }

        .info-card h4 {
            font-size: 0.9rem;
            font-weight: 600;
            color: #f59e0b;
            margin-bottom: 0.75rem;
            margin-top: 0;
        }

        .info-card p {
            font-size: 0.85rem;
            margin-bottom: 0.5rem;
        }

        .diagram-container {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .diagram-placeholder {
            background: linear-gradient(135deg, var(--bg-tertiary) 0%, var(--bg-secondary) 100%);
            border: 2px dashed var(--border-color);
            border-radius: var(--radius-sm);
            padding: 1.5rem;
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        .diagram-container .caption {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 0.75rem;
            text-align: center;
        }

        .flow-steps {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .flow-step {
            background-color: var(--bg-tertiary);
            border-radius: var(--radius-sm);
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .flow-step .number {
            background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
            color: var(--bg-primary);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .tech-stack-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.85rem;
        }

        .tech-stack-table th,
        .tech-stack-table td {
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            text-align: left;
        }

        .tech-stack-table th {
            background-color: var(--bg-tertiary);
            color: #f59e0b;
            font-weight: 600;
        }

        .tech-stack-table td {
            color: var(--text-secondary);
        }

        .label-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.75rem;
            margin: 1rem 0;
        }

        .label-card {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            padding: 0.75rem;
            text-align: center;
        }

        .label-card .label {
            font-size: 0.7rem;
            text-transform: uppercase;
            color: var(--text-muted);
            margin-bottom: 0.25rem;
        }

        .label-card .value {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .label-card.idiomatic {
            border-color: #22c55e;
        }

        .label-card.idiomatic .value {
            color: #22c55e;
        }

        .label-card.literal {
            border-color: #f97316;
        }

        .label-card.literal .value {
            color: #f97316;
        }

        .label-card.ambiguous {
            border-color: #eab308;
        }

        .label-card.ambiguous .value {
            color: #eab308;
        }

        .code-block {
            background-color: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            padding: 1rem;
            font-family: 'Fira Code', monospace;
            font-size: 0.8rem;
            color: var(--text-secondary);
            overflow-x: auto;
            margin: 1rem 0;
        }

        .pipeline-step {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem;
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            margin-bottom: 0.75rem;
        }

        .pipeline-step .step-num {
            background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
            flex-shrink: 0;
        }

        .pipeline-step .step-content h5 {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .pipeline-step .step-content p {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin: 0;
        }

        @media (max-width: 900px) {
            .project-wrapper {
                grid-template-columns: 1fr;
            }

            .project-sidebar {
                position: relative;
                top: 0;
                height: auto;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }

            .project-main {
                padding: 2rem 1.5rem;
            }

            .two-column,
            .component-grid {
                grid-template-columns: 1fr;
            }

            .label-grid {
                grid-template-columns: 1fr;
            }

            .flow-steps {
                flex-direction: column;
            }
        }
    </style>
</head>

<body>
    <!-- Global Navigation -->
    <nav class="global-nav"
        style="position: fixed; top: 0; left: 0; right: 0; height: 60px; background-color: rgba(15, 23, 42, 0.95); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(148, 163, 184, 0.1); z-index: 1000;">
        <div class="nav-container"
            style="max-width: 1400px; margin: 0 auto; height: 100%; display: flex; align-items: center; justify-content: space-between; padding: 0 2rem;">
            <a href="/" class="nav-logo"
                style="font-size: 1.125rem; font-weight: 700; background: linear-gradient(135deg, #38bdf8 0%, #818cf8 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Molindu
                Achintha</a>
            <ul class="nav-links"
                style="display: flex; align-items: center; gap: 0.5rem; list-style: none; margin: 0; padding: 0;">
                <li><a href="/"
                        style="padding: 0.5rem 1rem; color: #94a3b8; font-size: 0.875rem; font-weight: 500; border-radius: 0.375rem; text-decoration: none;">Home</a>
                </li>
                <li><a href="/projects.html"
                        style="padding: 0.5rem 1rem; color: #94a3b8; font-size: 0.875rem; font-weight: 500; border-radius: 0.375rem; text-decoration: none;">Projects</a>
                </li>
                <li><a href="/experience.html"
                        style="padding: 0.5rem 1rem; color: #94a3b8; font-size: 0.875rem; font-weight: 500; border-radius: 0.375rem; text-decoration: none;">Experience</a>
                </li>
                <li><a href="/certifications.html"
                        style="padding: 0.5rem 1rem; color: #94a3b8; font-size: 0.875rem; font-weight: 500; border-radius: 0.375rem; text-decoration: none;">Certifications</a>
                </li>
                <li><a href="mailto:molindu.21@cse.mrt.ac.lk" class="nav-contact"
                        style="padding: 0.5rem 1rem; background: linear-gradient(135deg, #38bdf8 0%, #818cf8 100%); color: #0f172a !important; font-size: 0.875rem; font-weight: 600; border-radius: 0.375rem; text-decoration: none;">Contact</a>
                </li>
            </ul>
            <button class="nav-toggle" aria-label="Toggle navigation" style="display: none;">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <div class="project-wrapper">
        <!-- Project Sidebar -->
        <aside class="project-sidebar">
            <div class="project-sidebar-title">Sinhala Idioms</div>
            <div class="project-sidebar-subtitle">Extraction & Translation</div>

            <ul class="project-nav">
                <li><a href="#overview">Overview</a></li>
                <li><a href="#objectives">Objectives</a></li>
                <li><a href="#architecture">System Architecture</a></li>

                <div class="nav-section-label">Data Layer</div>
                <li><a href="#dataset">Dataset Design</a></li>
                <li><a href="#annotation">Annotation Process</a></li>

                <div class="nav-section-label">ML Pipeline</div>
                <li><a href="#models">ML Models</a></li>
                <li><a href="#span-detection">Span Detection</a></li>
                <li><a href="#classification">Usage Classification</a></li>
                <li><a href="#translation">Sinhala Translation</a></li>

                <div class="nav-section-label">System</div>
                <li><a href="#inference">Inference Flow</a></li>
                <li><a href="#visualization">Visualization</a></li>
                <li><a href="#tech-stack">Tech Stack</a></li>
            </ul>
        </aside>

        <!-- Project Main Content -->
        <main class="project-main">
            <div class="breadcrumb">
                <a href="/">Home</a>
                <span>/</span>
                <a href="/projects.html">Projects</a>
                <span>/</span>
                <span>Sinhala Idioms</span>
            </div>

            <div class="project-hero">
                <h1>Sinhala Idioms Extraction & Translation</h1>
                <p class="subtitle">An end-to-end NLP system that detects English idioms in context, classifies their
                    usage (idiomatic vs literal vs ambiguous), and maps them to semantically equivalent Sinhala idioms
                    with natural sentence translations.</p>
            </div>

            <section id="overview">
                <div class="callout">
                    <h4>Project Overview</h4>
                    <p>This system combines <strong>sequence labeling</strong>, <strong>multi-class
                            classification</strong>, and <strong>cross-lingual retrieval</strong> to build a complete
                        idiom processing pipeline. Given English text, it identifies idiom spans, determines if they're
                        used figuratively or literally, classifies the idiom type (humorous, ironic, proverbial), and
                        produces natural Sinhala translations that preserve the intended meaning.</p>
                </div>
            </section>

            <section id="objectives" class="project-section">
                <h2>Objectives</h2>

                <div class="component-grid">
                    <div class="component-card orange">
                        <h4>üéØ Idiom Detection</h4>
                        <p>Detect English idiom spans in context using sequence labeling (BIO tagging)</p>
                    </div>
                    <div class="component-card blue">
                        <h4>‚öñÔ∏è Ambiguity Filter</h4>
                        <p>Classify each idiom as IDIOMATIC, LITERAL, or AMBIGUOUS based on context</p>
                    </div>
                    <div class="component-card purple">
                        <h4>üè∑Ô∏è Type Classification</h4>
                        <p>Label idiom type: humorous, ironic, neutral/proverbial, or other</p>
                    </div>
                    <div class="component-card green">
                        <h4>üåê Sinhala Mapping</h4>
                        <p>Map to equivalent Sinhala idioms or generate natural paraphrases</p>
                    </div>
                    <div class="component-card red">
                        <h4>üìä Visualization</h4>
                        <p>Highlight idioms in UI with color-coded usage and tooltips</p>
                    </div>
                    <div class="component-card orange">
                        <h4>üîÑ Generalization</h4>
                        <p>Handle unseen idioms via semantic retrieval and context learning</p>
                    </div>
                </div>
            </section>

            <section id="architecture" class="project-section">
                <h2>System Architecture</h2>
                <p>The system has two major components: an <strong>offline training pipeline</strong> and an
                    <strong>online inference service</strong>.
                </p>

                <div class="diagram-container">
                    <div class="diagram-placeholder">
                        <strong style="color: #f59e0b;">üìö OFFLINE (Training & Data)</strong><br>
                        ‚îú‚îÄ‚îÄ Collect & annotate text (idiom spans, usage labels, Sinhala translations)<br>
                        ‚îú‚îÄ‚îÄ Train ML models (span detection, usage classifier, type classifier)<br>
                        ‚îú‚îÄ‚îÄ Train/fine-tune EN‚ÜíSI translation model<br>
                        ‚îú‚îÄ‚îÄ Build idiom dictionary + semantic retrieval index<br>
                        ‚îî‚îÄ‚îÄ Evaluate, version, deploy best models<br><br>

                        <strong style="color: #38bdf8;">‚ö° ONLINE (Inference & UI)</strong><br>
                        ‚îú‚îÄ‚îÄ User submits English text<br>
                        ‚îú‚îÄ‚îÄ Sentence segmentation ‚Üí Idiom span detection<br>
                        ‚îú‚îÄ‚îÄ Usage + Type classification per span<br>
                        ‚îú‚îÄ‚îÄ Sinhala sentence translation<br>
                        ‚îú‚îÄ‚îÄ Sinhala idiom mapping/retrieval<br>
                        ‚îî‚îÄ‚îÄ Return highlighted text + translations to UI
                    </div>
                    <p class="caption">Figure 1: High-Level System Architecture</p>
                </div>
            </section>

            <section id="dataset" class="project-section">
                <h2>Dataset Design</h2>
                <p>Each row in the dataset represents <strong>one idiom mention</strong> with comprehensive
                    annotations.</p>

                <h3>Data Schema</h3>
                <table class="tech-stack-table">
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>example_id</code></td>
                            <td>String</td>
                            <td>Unique identifier per idiom mention</td>
                        </tr>
                        <tr>
                            <td><code>sentence_en</code></td>
                            <td>String</td>
                            <td>Full English sentence containing idiom</td>
                        </tr>
                        <tr>
                            <td><code>sentence_si</code></td>
                            <td>String</td>
                            <td>Natural Sinhala translation (idiom-aware)</td>
                        </tr>
                        <tr>
                            <td><code>idiom_en</code></td>
                            <td>String</td>
                            <td>Idiom string as it appears in sentence</td>
                        </tr>
                        <tr>
                            <td><code>idiom_si</code></td>
                            <td>String</td>
                            <td>Sinhala idiom or paraphrase equivalent</td>
                        </tr>
                        <tr>
                            <td><code>usage</code></td>
                            <td>Enum</td>
                            <td>IDIOMATIC | LITERAL | AMBIGUOUS</td>
                        </tr>
                        <tr>
                            <td><code>idiom_type</code></td>
                            <td>Enum</td>
                            <td>HUMOROUS | IRONIC | NEUTRAL | PROVERBIAL | OTHER</td>
                        </tr>
                        <tr>
                            <td><code>char_start</code></td>
                            <td>Integer</td>
                            <td>Start character offset in sentence_en</td>
                        </tr>
                        <tr>
                            <td><code>char_end</code></td>
                            <td>Integer</td>
                            <td>End character offset in sentence_en</td>
                        </tr>
                        <tr>
                            <td><code>sense_en</code></td>
                            <td>String</td>
                            <td>Short explanation of idiom meaning in context</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Usage Labels</h3>
                <div class="label-grid">
                    <div class="label-card idiomatic">
                        <div class="label">Idiomatic</div>
                        <div class="value">Figurative/Metaphorical</div>
                    </div>
                    <div class="label-card literal">
                        <div class="label">Literal</div>
                        <div class="value">Straightforward Meaning</div>
                    </div>
                    <div class="label-card ambiguous">
                        <div class="label">Ambiguous</div>
                        <div class="value">Both Readings Plausible</div>
                    </div>
                </div>
            </section>

            <section id="annotation" class="project-section">
                <h2>Annotation Process</h2>

                <div class="pipeline-step">
                    <div class="step-num">1</div>
                    <div class="step-content">
                        <h5>Data Collection</h5>
                        <p>Collect English text from dialogue datasets, stories, news, blogs. Filter sentences
                            containing known idiom candidates via lexicon matching.</p>
                    </div>
                </div>

                <div class="pipeline-step">
                    <div class="step-num">2</div>
                    <div class="step-content">
                        <h5>Candidate Detection</h5>
                        <p>Use dictionary-based high-recall matcher to identify idiom candidates. Any phrase from idiom
                            lexicon appearing in sentence is a candidate.</p>
                    </div>
                </div>

                <div class="pipeline-step">
                    <div class="step-num">3</div>
                    <div class="step-content">
                        <h5>Human Annotation</h5>
                        <p>For each candidate: confirm exact span, label usage (IDIOMATIC/LITERAL/AMBIGUOUS), label
                            idiom type, write sense definition, provide Sinhala translations.</p>
                    </div>
                </div>

                <div class="pipeline-step">
                    <div class="step-num">4</div>
                    <div class="step-content">
                        <h5>Quality Control</h5>
                        <p>Dual annotation on subset, measure Cohen's kappa for inter-annotator agreement, resolve
                            disagreements, refine guidelines.</p>
                    </div>
                </div>
            </section>

            <section id="models" class="project-section">
                <h2>ML Problem Decomposition</h2>
                <p>The system decomposes into five interconnected ML sub-tasks:</p>

                <div class="component-grid">
                    <div class="component-card orange">
                        <h4>1. Span Detection</h4>
                        <p>Sequence labeling with BIO tags to identify idiom boundaries</p>
                    </div>
                    <div class="component-card blue">
                        <h4>2. Usage Classification</h4>
                        <p>3-class classification: IDIOMATIC, LITERAL, AMBIGUOUS</p>
                    </div>
                    <div class="component-card purple">
                        <h4>3. Type Classification</h4>
                        <p>Multi-class: HUMOROUS, IRONIC, NEUTRAL, PROVERBIAL, OTHER</p>
                    </div>
                    <div class="component-card green">
                        <h4>4. Sentence Translation</h4>
                        <p>EN‚ÜíSI neural machine translation with idiom awareness</p>
                    </div>
                    <div class="component-card red">
                        <h4>5. Idiom Mapping</h4>
                        <p>Retrieve/generate equivalent Sinhala idiom or paraphrase</p>
                    </div>
                </div>
            </section>

            <section id="span-detection" class="project-section">
                <h2>Idiom Span Detection</h2>
                <p>A sequence labeling model identifies which tokens form idiom phrases.</p>

                <h3>Architecture</h3>
                <div class="diagram-container">
                    <div class="diagram-placeholder">
                        <strong>Input:</strong> "She decided to <span style="color: #22c55e;">spill the beans</span>
                        about the surprise party."<br><br>
                        <strong>Tokenization:</strong> [She] [decided] [to] [spill] [the] [beans] [about] ...<br><br>
                        <strong>BERT Encoder:</strong> Contextual embeddings for each token<br><br>
                        <strong>Linear + Softmax:</strong> Token ‚Üí {B-IDIOM, I-IDIOM, O}<br><br>
                        <strong>Output Labels:</strong> O O O <span style="color: #22c55e;">B-IDIOM I-IDIOM
                            I-IDIOM</span> O O O O
                    </div>
                </div>

                <h3>Training Details</h3>
                <ul>
                    <li><strong>Encoder:</strong> BERT-base or RoBERTa with token-level classification head</li>
                    <li><strong>Loss:</strong> Cross-entropy over token labels</li>
                    <li><strong>Metrics:</strong> Span-level F1 score (exact and partial match)</li>
                    <li><strong>Tokenizer:</strong> WordPiece/BPE with char-to-token alignment</li>
                </ul>
            </section>

            <section id="classification" class="project-section">
                <h2>Usage & Ambiguity Classification</h2>
                <p>This is the <strong>ambiguity filter</strong> - central to distinguishing figurative from literal
                    usage.</p>

                <h3>The Challenge</h3>
                <div class="callout blue">
                    <h4>Literal vs Idiomatic</h4>
                    <p>Many idioms are also common literal phrases. <strong>"Break the ice"</strong> can mean literally
                        breaking frozen water OR starting a conversation. The classifier must learn from context:
                        literal
                        usage often involves physical entities (river, actual ice), while idiomatic usage involves
                        social contexts (meeting, introductions).</p>
                </div>

                <h3>Model Design</h3>
                <ul>
                    <li><strong>Input:</strong> Sentence with special markers around idiom span:
                        <code>[IDIOM_START] spill the beans [IDIOM_END]</code>
                    </li>
                    <li><strong>Representation:</strong> CLS embedding + pooled idiom span embeddings</li>
                    <li><strong>Classification head:</strong> FC layer ‚Üí softmax over 3 classes</li>
                    <li><strong>Training:</strong> Cross-entropy with class balancing for rare AMBIGUOUS cases</li>
                </ul>

                <h3>Idiom Type Classifier</h3>
                <p>Similar architecture, finer-grained 5-class output:</p>
                <div class="flow-steps">
                    <div class="flow-step"><span class="number">üòÑ</span> Humorous</div>
                    <div class="flow-step"><span class="number">üôÉ</span> Ironic</div>
                    <div class="flow-step"><span class="number">üìñ</span> Neutral</div>
                    <div class="flow-step"><span class="number">üéì</span> Proverbial</div>
                    <div class="flow-step"><span class="number">‚ùì</span> Other</div>
                </div>
            </section>

            <section id="translation" class="project-section">
                <h2>Sinhala Translation & Idiom Mapping</h2>

                <h3>Sentence-Level Translation</h3>
                <div class="two-column">
                    <div class="info-card">
                        <h4>Option A: External NMT API</h4>
                        <p>Use Google Translate API, post-process to fix idiom translations, build correction dataset
                            for fine-tuning.</p>
                    </div>
                    <div class="info-card">
                        <h4>Option B: Custom Model</h4>
                        <p>Fine-tune Marian/Fairseq on EN-SI parallel data with idiom-specific sentences from our
                            dataset.</p>
                    </div>
                </div>

                <h3>Sinhala Idiom Mapping</h3>

                <div class="pipeline-step">
                    <div class="step-num">1</div>
                    <div class="step-content">
                        <h5>Dictionary Lookup (Baseline)</h5>
                        <p>Exact or canonical form match in Idiom Dictionary ‚Üí return preferred Sinhala idiom</p>
                    </div>
                </div>

                <div class="pipeline-step">
                    <div class="step-num">2</div>
                    <div class="step-content">
                        <h5>Semantic Retrieval (Unseen Idioms)</h5>
                        <p>Bi-encoder model: Encoder_EN for English idiom + sense, Encoder_SI for Sinhala candidates.
                            Retrieve top-k closest Sinhala idioms by embedding similarity.</p>
                    </div>
                </div>

                <div class="pipeline-step">
                    <div class="step-num">3</div>
                    <div class="step-content">
                        <h5>Fallback Generation</h5>
                        <p>If similarity &lt; threshold, generate simple Sinhala paraphrase using LM or template.</p>
                    </div>
                </div>
            </section>

            <section id="inference" class="project-section">
                <h2>Online Inference Flow</h2>

                <div class="flow-steps">
                    <div class="flow-step"><span class="number">1</span> User submits English text</div>
                    <div class="flow-step"><span class="number">2</span> Sentence segmentation</div>
                    <div class="flow-step"><span class="number">3</span> Span detection per sentence</div>
                    <div class="flow-step"><span class="number">4</span> Usage + Type classification</div>
                    <div class="flow-step"><span class="number">5</span> Sinhala sentence translation</div>
                    <div class="flow-step"><span class="number">6</span> Idiom mapping/retrieval</div>
                    <div class="flow-step"><span class="number">7</span> Return JSON response</div>
                </div>

                <h3>Response Structure</h3>
                <div class="code-block">
                    <pre>{
  "sentences": [
    {
      "sentence_en": "She spilled the beans about the surprise.",
      "sentence_si": "‡∂á‡∂∫ ‡∑Ä‡∑í‡∑É‡∑ä‡∂∏‡∂∫‡∂¢‡∂±‡∂ö ‡∂Ø‡∑ö ‡∂ú‡∑ê‡∂± ‡∂ª‡∑Ñ‡∑É ‡∑Ñ‡∑ô‡∑Ö‡∑í ‡∂ö‡∑Ö‡∑è‡∂∫.",
      "idioms": [
        {
          "idiom_en": "spilled the beans",
          "char_start": 4,
          "char_end": 21,
          "usage": "IDIOMATIC",
          "idiom_type": "NEUTRAL_DESCRIPTIVE",
          "idiom_si": "‡∂ª‡∑Ñ‡∑É ‡∑Ñ‡∑ô‡∑Ö‡∑í ‡∂ö‡∂ª‡∂±‡∑Ä‡∑è",
          "sense_en": "to reveal a secret"
        }
      ]
    }
  ]
}</pre>
                </div>
            </section>

            <section id="visualization" class="project-section">
                <h2>UI Visualization</h2>

                <h3>Highlighting Strategy</h3>
                <div class="two-column">
                    <div class="info-card">
                        <h4>Color Coding</h4>
                        <p><span style="background: #c8f7c5; padding: 2px 6px; border-radius: 3px;">Idiomatic</span> -
                            Green background<br>
                            <span style="background: #f7d7c5; padding: 2px 6px; border-radius: 3px;">Literal</span> -
                            Orange background<br>
                            <span
                                style="background: #f7f3c5; padding: 2px 6px; border-radius: 3px; border-bottom: 1px dashed #999;">Ambiguous</span>
                            - Yellow + dashed border
                        </p>
                    </div>
                    <div class="info-card">
                        <h4>Tooltips on Hover</h4>
                        <p>‚Ä¢ English sense definition<br>
                            ‚Ä¢ Sinhala idiom equivalent<br>
                            ‚Ä¢ Usage label + idiom type<br>
                            ‚Ä¢ Confidence score</p>
                    </div>
                </div>

                <h3>Annotator Interface</h3>
                <ul>
                    <li>Editable usage labels via dropdown</li>
                    <li>Editable Sinhala translation fields</li>
                    <li>Ability to mark incorrect spans and add new idioms</li>
                    <li>Feedback saved for retraining loop</li>
                </ul>
            </section>

            <section id="tech-stack" class="project-section">
                <h2>Technology Stack</h2>

                <table class="tech-stack-table">
                    <thead>
                        <tr>
                            <th>Layer</th>
                            <th>Technology</th>
                            <th>Purpose</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>NLP Framework</td>
                            <td>PyTorch, Transformers (HuggingFace)</td>
                            <td>Model training and inference</td>
                        </tr>
                        <tr>
                            <td>Text Encoder</td>
                            <td>BERT / RoBERTa / XLM-R</td>
                            <td>Contextual embeddings</td>
                        </tr>
                        <tr>
                            <td>OCR</td>
                            <td>Tesseract with Sinhala models</td>
                            <td>Extract text from scanned books</td>
                        </tr>
                        <tr>
                            <td>NLP Libraries</td>
                            <td>NLTK, SpaCy, Regex</td>
                            <td>Tokenization, NER, preprocessing</td>
                        </tr>
                        <tr>
                            <td>Data Processing</td>
                            <td>Pandas, NumPy</td>
                            <td>Dataset manipulation</td>
                        </tr>
                        <tr>
                            <td>Backend API</td>
                            <td>FastAPI / Flask</td>
                            <td>REST API for inference</td>
                        </tr>
                        <tr>
                            <td>Frontend</td>
                            <td>React / Vue</td>
                            <td>User interface with highlighting</td>
                        </tr>
                        <tr>
                            <td>Database</td>
                            <td>PostgreSQL</td>
                            <td>Store annotations, idiom dictionary</td>
                        </tr>
                        <tr>
                            <td>Vector Store</td>
                            <td>FAISS / Pinecone</td>
                            <td>Semantic retrieval for idiom mapping</td>
                        </tr>
                    </tbody>
                </table>

                <div class="callout green">
                    <h4>Continuous Improvement Loop</h4>
                    <p>The system includes a <strong>human-in-the-loop feedback mechanism</strong>. Annotators review
                        predictions weekly, correct errors, and add new idioms. Every N weeks, models are retrained on
                        merged annotations, evaluated against held-out test sets, and deployed if they outperform the
                        current version.</p>
                </div>
            </section>
        </main>
    </div>

    <footer class="footer">
        <p>¬© 2024 Molindu Achintha. Sinhala Idioms Extraction & Translation Project.</p>
    </footer>

    <script>
        document.querySelector('.nav-toggle').addEventListener('click', function () {
            document.querySelector('.nav-links').classList.toggle('active');
            this.classList.toggle('active');
        });
    </script>
</body>

</html>